<!-- cart.component.html -->

<div class="flex-1 min-h-screen flex flex-col">
    <!-- <app-navbar></app-navbar> -->
    <div class="flex-1 w-full px-10">
        <h1 class="text-2xl font-bold mt-5 mb-3">Your Cart</h1>
        <div *ngIf="cartItemsWithDetails.length > 0" class="flex-1 flex flex-col md:flex-row flex-wrap gap-5">
            <div *ngFor="let item of cartItemsWithDetails"
                class="border-2 rounded-lg border-slate-300 p-4 flex gap-3 mx-2 my-2  max-w-[500px]">
                <img src={{item.product.image}} alt="" class="w-[200px] h-[200px] rounded-lg overflow-clip">
                <div class="flex flex-col gap-2 justify-center items-start">
                    <h2 class="text-2xl font-semibold">{{ item.product.name }}</h2>
                    <p class="text-xl">${{ item.product.price }}</p>
                    <div class="flex gap-2 justify-center items-center">
                        <button (click)="updateQuantity(item.cartItem.productId, item.cartItem.quantity - 1)"
                            class="border-2 border-slate-300 rounded-lg px-3 hover:bg-slate-300 ">-</button>
                        <span>{{ item.cartItem.quantity }}</span>
                        <button (click)="updateQuantity(item.cartItem.productId, item.cartItem.quantity + 1)"
                            class="border-2 border-slate-300 rounded-lg px-3 hover:bg-slate-300">+</button>
                        <button (click)="deleteCartItem(item.cartItem.productId)"
                            class=" rounded-lg bg-red-500 text-white px-3 hover:bg-red-400">Delete</button>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="cartItems.length === 0" class="mt-3">
            <p>Your cart is empty.</p>
        </div>
    </div>
</div>